var wt=Object.defineProperty,Ft=Object.defineProperties;var xt=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var je=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable;var Ge=(n,t,e)=>t in n?wt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,l=(n,t)=>{for(var e in t||(t={}))je.call(t,e)&&Ge(n,e,t[e]);if(_)for(var e of _(t))Je.call(t,e)&&Ge(n,e,t[e]);return n},h=(n,t)=>Ft(n,xt(t));var B=(n,t)=>{var e={};for(var a in n)je.call(n,a)&&t.indexOf(a)<0&&(e[a]=n[a]);if(n!=null&&_)for(var a of _(n))t.indexOf(a)<0&&Je.call(n,a)&&(e[a]=n[a]);return e};import{memo as pt,useEffect as bn,useMemo as Mn,useRef as kn}from"react";import{useCallback as vt,useMemo as z}from"react";import{Pressable as Gt,StyleSheet as at,Text as jt,View as V}from"react-native";function Ke(n){return{all:n=n||new Map,on:function(t,e){var a=n.get(t);a?a.push(e):n.set(t,[e])},off:function(t,e){var a=n.get(t);a&&(e?a.splice(a.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var a=n.get(t);a&&a.slice().map(function(r){r(e)}),(a=n.get("*"))&&a.slice().map(function(r){r(t,e)})}}}import{useEffect as _e,useState as Tt}from"react";import{useMemo as Ot}from"react";function b(n){let t=n.getFullYear(),e=n.getMonth()+1,a=n.getDate(),r=e<10?`0${e}`:e,s=a<10?`0${a}`:a;return`${t}-${r}-${s}`}function P(n){let[t,e,a]=n.split("-").map(Number);return new Date(t,e-1,a)}function A(n){return new Date(n.getFullYear(),n.getMonth(),1)}function ze(n){let t=new Date(n.getFullYear(),n.getMonth()+1,1),e=new Date(t.getTime()-1);return new Date(e)}function Ue(n,t){let e=new Date(n.getTime()),a=e.getDay();if(a===0&&t==="monday")return e.setDate(e.getDate()-6),e;let s=a-(t==="monday"?1:0);return e.setDate(e.getDate()-s),e}function $(n,t){let e=new Date(n);return e.setMonth(e.getMonth()+t),e}function fe(n,t){let e=new Date(n);return e.setMonth(e.getMonth()-t),e}function j(n,t){let e=new Date(n);return e.setDate(e.getDate()+t),e}function Qe(n,t){let e=new Date(n);return e.setDate(e.getDate()-t),e}function X(n){let t=n.getDay();return t===0||t===6}function Z(n,t){let e=n.getFullYear()-t.getFullYear(),a=n.getMonth()-t.getMonth();return e*12+a}function ye(n,t){let a=new Date(n.getFullYear(),n.getMonth(),1).getDay();t==="monday"&&(a=a===0?6:a-1);let r=new Date(n.getFullYear(),n.getMonth()+1,0).getDate();return Math.ceil((a+r)/7)}function qe(n,t){let a=new Date(n.getFullYear(),n.getMonth(),1).getDay();t==="monday"&&(a=a===0?6:a-1);let r=n.getDate();return Math.floor((a+r-1)/7)+1}var ee=(n,t,e=1)=>Array.from({length:(t-n)/e+1},(a,r)=>n+r*e);var Pt=(n,t)=>{let e=n.getDay();return t==="sunday"?e:e===0?6:e-1},J=({todayId:n,id:t,calendarActiveDateRanges:e,calendarDisabledDateIds:a,calendarHighSeasonsDateRange:r,calendarSpecialDateRange:s,calendarStayDateRange:o})=>{let i=te(e||[],t),d=te(o||[],t),c=te(r||[],t),u=te(a||[],t),y=!!i,I=!!d,S=!!u,C=!!c,D=s==null?void 0:s.find(({dateId:f})=>f===t),p=n===t,m=["idle"];return C&&m.push("high-season"),D&&m.push("special-date"),S&&m.push("disabled"),p&&m.push("today"),I&&m.push("stay"),y&&m.push("active"),{isStartOfRange:[["active",(i==null?void 0:i.startId)===t],["stay",(d==null?void 0:d.startId)===t],["disabled",(u==null?void 0:u.startId)===t],["high-season",(c==null?void 0:c.startId)===t]].filter(([f,g])=>g).map(([f])=>f),isEndOfRange:[["active",(i==null?void 0:i.endId)===t],["stay",(d==null?void 0:d.endId)===t],["disabled",(u==null?void 0:u.endId)===t],["high-season",(c==null?void 0:c.endId)===t]].filter(([f,g])=>g).map(([f])=>f),isRangeValid:[["active",(i==null?void 0:i.startId)&&(i==null?void 0:i.endId)&&t>=(i==null?void 0:i.startId)&&t<=(i==null?void 0:i.endId)],["stay",(d==null?void 0:d.startId)&&(d==null?void 0:d.endId)&&t>=(d==null?void 0:d.startId)&&t<=(d==null?void 0:d.endId)],["disabled",(u==null?void 0:u.startId)&&(u==null?void 0:u.endId)&&t>=(u==null?void 0:u.startId)&&t<=(u==null?void 0:u.endId)],["high-season",(c==null?void 0:c.startId)&&(c==null?void 0:c.endId)&&t>=(c==null?void 0:c.startId)&&t<=(c==null?void 0:c.endId)]].filter(([f,g])=>g).map(([f])=>f),state:m,additionalData:{isHighSeasonDate:C,specialDate:D,stayDate:d==null?void 0:d.stayId}}},Et=(n,t)=>new Intl.DateTimeFormat(t,{month:"long",year:"numeric"}).format(n),Ht=(n,t)=>new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(n),Wt=(n,t)=>new Intl.DateTimeFormat(t,{day:"numeric"}).format(n),Ye=n=>{let{calendarMonthId:t,calendarFirstDayOfWeek:e="sunday",calendarFormatLocale:a="en-US",getCalendarMonthFormat:r=Et,getCalendarWeekDayFormat:s=Ht,getCalendarDayFormat:o=Wt}=n,i=P(t),d=A(i),c=b(d),u=ze(i),y=b(u),I=Pt(d,e),S=e==="sunday"?0:1,C=e==="sunday"?6:0,D=b(new Date),p=Qe(d,I),m=[[...ee(1,I).map(()=>{let k=b(p),w=l({date:p,displayLabel:o(p,a),id:k,isDifferentMonth:!0,isEndOfMonth:!1,isEndOfWeek:p.getDay()===C,isStartOfMonth:!1,isStartOfWeek:p.getDay()===S,isWeekend:X(p)},J(h(l({},n),{todayId:D,id:k})));return p=j(p,1),w})]];for(;p.getMonth()===d.getMonth();){m[m.length-1].length===7&&m.push([]);let w=b(p);m[m.length-1].push(l({date:p,displayLabel:o(p,a),id:w,isDifferentMonth:!1,isEndOfMonth:w===y,isEndOfWeek:p.getDay()===C,isStartOfMonth:w===c,isStartOfWeek:p.getDay()===S,isWeekend:X(p)},J(h(l({},n),{todayId:D,id:w})))),p=j(p,1)}let f=m[m.length-1],g=7-f.length;f.push(...ee(1,g).map(()=>{let k=b(p),w=l({date:p,displayLabel:o(p,a),id:k,isDifferentMonth:!0,isEndOfMonth:!1,isEndOfWeek:p.getDay()===C,isStartOfMonth:!1,isStartOfWeek:p.getDay()===S,isWeekend:X(p)},J(h(l({},n),{todayId:D,id:k})));return p=j(p,1),w}));let E=Ue(i,e),R=ee(1,7).map(k=>s(j(E,k-1),a));return{weeksList:m,calendarRowMonth:r(i,a),weekDaysList:R}},ue=n=>Ot(()=>Ye(n),[n]);function te(n,t){return n.find(({startId:e,endId:a})=>e&&a?t>=e&&t<=a:e?t===e:a?t===a:!1)}var K=Ke(),$e="flash-calendar-default-instance",Ce=(n,t)=>{let[e,a]=Tt(n),r=t!=null?t:$e;return _e(()=>{a(n)},[n]),_e(()=>{let s=o=>{let{todayId:i,ranges:d,disabledRanges:c,specialDateRanges:u,stayDateRange:y,highSeasonRange:I,instanceId:S=$e}=o;if(S!==r)return;let C=J({id:e.id,todayId:i,calendarActiveDateRanges:d,calendarDisabledDateIds:c,calendarSpecialDateRange:u,calendarStayDateRange:y,calendarHighSeasonsDateRange:I});Object.entries(C).every(([p,m])=>typeof m=="object"?JSON.stringify(m)===JSON.stringify(e[p]):m===e[p])||a(p=>l(l({},p),C))};return K.on("onSetActiveDateRanges",s),()=>{K.off("onSetActiveDateRanges",s)}},[n,r,e]),e};import{useColorScheme as Vt}from"react-native";var Xe={spacing:{0:0,2:2,4:4,6:6,8:8,12:12,16:16,20:20,24:24}},ne=h(l({},Xe),{colors:{content:{disabled:"#B0B0B0",primary:"#000000",secondary:"#212121",inverse:{primary:"#FFFFFF"}},background:{primary:"#FFFFFF",tertiary:"#EDEFEE",tertiaryPressed:"#D1D2D3",inverse:{primary:"#000000"}},borders:{default:"#E0E0E0"},transparent:"transparent"}}),Ze=h(l({},Xe),{colors:{content:{disabled:"#bdbdbd",primary:"#FFFFFF",secondary:"#e8e8e8",inverse:{primary:"#000000"}},background:{primary:"#000000",tertiary:"#111111",tertiaryPressed:"#212121",inverse:{primary:"#FFFFFF"}},borders:{default:"#5c5c5c"},transparent:"transparent"}});import{createContext as At,useContext as Lt,useMemo as Nt}from"react";import{jsx as Bt}from"react/jsx-runtime";var et=At({colorScheme:void 0}),tt=({children:n,colorScheme:t})=>{let e=Nt(()=>({colorScheme:t}),[t]);return Bt(et.Provider,{value:e,children:n})},nt=()=>Lt(et);var N=()=>{let n=Vt(),{colorScheme:t}=nt();return(t!=null?t:n)==="dark"?Ze:ne};import{jsx as x,jsxs as Kt}from"react/jsx-runtime";var H=at.create({baseContainer:{flex:1,justifyContent:"center"},baseContent:{textAlign:"center"}}),Jt=n=>{let t=h(l({},H.baseContent),{color:n.colors.content.primary});return{active:({isPressed:e,isHovered:a,isStartOfRange:r,isEndOfRange:s})=>{let o=e||a?{container:h(l({},H.baseContainer),{backgroundColor:n.colors.background.tertiary}),content:h(l({},t),{color:n.colors.content.primary})}:{container:h(l({},H.baseContainer),{backgroundColor:n.colors.background.inverse.primary}),content:h(l({},t),{color:n.colors.content.inverse.primary})};return o.container.borderRadius=0,r&&(o.container.borderTopLeftRadius=16,o.container.borderBottomLeftRadius=16),s&&(o.container.borderTopRightRadius=16,o.container.borderBottomRightRadius=16),!r&&!s&&(o.container.borderRadius=0),o},disabled:()=>({container:H.baseContainer,content:h(l({},t),{color:n.colors.content.disabled})}),stay:()=>({container:H.baseContainer,content:t}),idle:({isPressed:e,isHovered:a})=>e||a?{container:h(l({},H.baseContainer),{backgroundColor:n.colors.background.tertiary}),content:h(l({},t),{color:n.colors.content.primary})}:{container:H.baseContainer,content:t},today:({isPressed:e,isHovered:a})=>e||a?{container:h(l({},H.baseContainer),{backgroundColor:n.colors.background.tertiaryPressed}),content:t}:{container:h(l({},H.baseContainer),{borderColor:n.colors.borders.default,borderStyle:"solid",borderWidth:1}),content:t}}},he=({onPress:n,children:t,theme:e,height:a,metadata:r,textProps:s})=>{let o=N(),i=z(()=>Jt(o),[o]),d=vt(()=>{n(r.id,r)},[r,n]);return x(Gt,{disabled:r.state.includes("disabled"),onPress:d,style:{flex:1,height:a},children:({pressed:c,hovered:u,focused:y})=>{var p;let I={isPressed:c,isHovered:u,isFocused:y},S=r.state.reduce((m,f)=>{var g;return m=l(l({},m),(g=i==null?void 0:i[f])==null?void 0:g.call(i,h(l(l({},I),r),{isStartOfRange:r.isStartOfRange.includes(f),isEndOfRange:r.isEndOfRange.includes(f)})).content),m},{}),C=r.state.reduce((m,f)=>{var g;return m=l(l({},m),(g=e==null?void 0:e[f])==null?void 0:g.call(e,h(l(l({},I),r),{isStartOfRange:r.isStartOfRange.includes(f),isEndOfRange:r.isEndOfRange.includes(f)})).content),m},{}),D=r.state.reverse().reduce((m,f)=>{var R,k;let g=l({},(R=i==null?void 0:i[f])==null?void 0:R.call(i,h(l(l({},I),r),{isStartOfRange:r.isStartOfRange.includes(f),isEndOfRange:r.isEndOfRange.includes(f)})).container),E=l({},(k=e==null?void 0:e[f])==null?void 0:k.call(e,h(l(l({},I),r),{isStartOfRange:r.isStartOfRange.includes(f),isEndOfRange:r.isEndOfRange.includes(f)})).container);return({children:w})=>x(m,{children:x(V,{style:l(l({flex:1,justifyContent:"center"},g),E),children:w})})},({children:m})=>m);return x(D,{children:x(jt,h(l({},s),{style:l(l(l({},(p=s==null?void 0:s.style)!=null?p:{}),S),C),children:t}))})}})},U=({children:n,isStartOfWeek:t,isEndOfWeek:e,daySpacing:a,dayHeight:r,calendarHorizontalPadding:s,metadata:o,theme:i,CalendarDot:d})=>{let c=N(),u={isPressed:!1,isHovered:!1,isFocused:!1},y=o.state.reduce((m,f)=>{var R;let g=o.isEndOfRange.includes(f),E=o.isStartOfRange.includes(f);return g||!o.isRangeValid.includes(f)?m:l(l({},m||{}),(R=i==null?void 0:i[f])==null?void 0:R.call(i,h(l(l({},u),o),{isEndOfRange:g,isStartOfRange:E})).container)},void 0),I=o.state.reduce((m,f)=>{var R;let g=o.isEndOfRange.includes(f),E=o.isStartOfRange.includes(f);return!o.isRangeValid.includes(f)||E&&!e||g&&!t?m:l(l({},m||{}),(R=i==null?void 0:i[f])==null?void 0:R.call(i,h(l(l({},u),o),{isEndOfRange:g,isStartOfRange:E})).container)},void 0),S=z(()=>({position:"relative",marginLeft:t?0:a,flex:1,height:r,overflow:"visible"}),[r,a,t]),C=z(()=>!y||e?null:l({position:"absolute",top:0,bottom:0,right:-(a+1),width:a+2,backgroundColor:c.colors.background.inverse.primary},y),[c.colors.background.inverse.primary,a,e,y]),D=z(()=>I&&t?l({position:"absolute",top:0,bottom:0,left:-(s+1),width:s+2,backgroundColor:c.colors.background.inverse.primary},I):null,[c.colors.background.inverse.primary,s,t,I]),p=z(()=>I&&e?l({position:"absolute",top:0,bottom:0,right:-s-1,width:s+2,backgroundColor:c.colors.background.inverse.primary},I):null,[c.colors.background.inverse.primary,s,e,I]);return Kt(V,{style:S,children:[D?x(V,{style:D}):null,n,C?x(V,{style:C}):null,o.additionalData.specialDate?x(V,{style:h(l({},at.absoluteFillObject),{alignContent:"center",alignItems:"center",justifyContent:"flex-end"}),children:x(d,{})}):null,p?x(V,{style:p}):null]})},ae=({children:n,metadata:t,onPress:e,theme:a,dayHeight:r,daySpacing:s,calendarHorizontalPadding:o,calendarInstanceId:i,CalendarDot:d})=>{let c=Ce(t,i);return x(U,{CalendarDot:d,calendarHorizontalPadding:o,dayHeight:r,daySpacing:s,isEndOfWeek:c.isEndOfWeek,isStartOfWeek:c.isStartOfWeek,metadata:c,theme:a,children:x(he,{height:r,metadata:c,onPress:e,theme:a,children:n})})};import{memo as zt,useMemo as Ut}from"react";import{View as Qt,StyleSheet as qt}from"react-native";import{jsx as _t}from"react/jsx-runtime";var Yt=qt.create({container:{padding:6,flex:1}}),re=zt(function(t){let{height:e,theme:a}=t,r=Ut(()=>[h(l({},Yt.container),{height:e}),a==null?void 0:a.container],[e,a==null?void 0:a.container]);return _t(Qt,{style:r})});import{useMemo as $t}from"react";import{StyleSheet as Xt,Text as Zt,View as en}from"react-native";import{jsx as ot}from"react/jsx-runtime";var rt=Xt.create({container:{alignItems:"center",flex:1,justifyContent:"center",padding:ne.spacing[6]},content:{}}),oe=({children:n,height:t,theme:e,textProps:a})=>{let{colors:r}=N(),{containerStyles:s,contentStyles:o}=$t(()=>{let i=[rt.container,{height:t},e==null?void 0:e.container],d=[rt.content,{color:r.content.primary},a==null?void 0:a.style,e==null?void 0:e.content];return{containerStyles:i,contentStyles:d}},[r.content.primary,t,e==null?void 0:e.container,e==null?void 0:e.content,a==null?void 0:a.style]);return ot(en,{style:s,children:ot(Zt,h(l({},a),{style:o,children:n}))})};import{useMemo as tn}from"react";import{StyleSheet as nn,Text as an,View as rn}from"react-native";import{jsx as it}from"react/jsx-runtime";var st=nn.create({container:{width:"100%",alignItems:"center",justifyContent:"center"},content:{textAlign:"center",width:"100%"}}),se=({children:n,height:t,theme:e})=>{let a=N(),{containerStyles:r,contentStyles:s}=tn(()=>{let o=[st.container,{height:t},e==null?void 0:e.container],i=[st.content,{color:a.colors.content.primary},e==null?void 0:e.content];return{containerStyles:o,contentStyles:i}},[a.colors.content.primary,t,e==null?void 0:e.container,e==null?void 0:e.content]);return it(rn,{style:r,children:it(an,{style:s,children:n})})};import{useMemo as pn}from"react";import{StyleSheet as mn}from"react-native";import{useMemo as on}from"react";import{StyleSheet as sn,View as ln}from"react-native";import{jsx as cn}from"react/jsx-runtime";var dn=sn.create({container:{alignItems:"center",flexDirection:"row",flexGrow:0,flexShrink:0,flexWrap:"nowrap",justifyContent:"flex-start"}}),ie=({alignItems:n,children:t,justifyContent:e="flex-start",grow:a=!1,shrink:r=!1,spacing:s=0,wrap:o="nowrap",backgroundColor:i,width:d,style:c={}})=>{let u=on(()=>[dn.container,{gap:s},a?{flexGrow:1}:{},r?{flexShrink:1}:{},o?{flexWrap:o}:{},n?{alignItems:n}:{},e?{justifyContent:e}:{},i?{backgroundColor:i}:{},d?{width:d}:{},c],[n,i,a,e,r,s,c,d,o]);return cn(ln,{style:u,children:t})};import{jsx as yn}from"react/jsx-runtime";var fn=mn.create({container:{width:"100%"}}),Q=({children:n,spacing:t=0,theme:e})=>{let{containerStyles:a}=pn(()=>{var r;return{containerStyles:l(l({},fn.container),(r=e==null?void 0:e.container)!=null?r:{})}},[e==null?void 0:e.container]);return yn(ie,{alignItems:"center",grow:!0,justifyContent:"space-between",spacing:t,style:a,children:n})};import{Children as un,Fragment as dt,isValidElement as Cn,useMemo as hn}from"react";import{StyleSheet as gn,View as Dn}from"react-native";import{jsx as lt}from"react/jsx-runtime";var In=gn.create({container:{flexDirection:"column"}});function Sn(n){return Cn(n)&&n.type===dt}function le({children:n,spacing:t=0,alignItems:e,justifyContent:a,grow:r}){let s=hn(()=>h(l({},In.container),{gap:t,alignItems:e,justifyContent:a,flex:r?1:void 0}),[e,r,a,t]);return lt(Dn,{style:s,children:un.toArray(n).map(o=>Sn(o)?o.props.children:o).flat().filter(o=>o!==null&&typeof o!="undefined").map((o,i)=>lt(dt,{children:o},i))})}var ct=n=>n.charAt(0).toUpperCase()+n.slice(1);import{jsx as W,jsxs as wn}from"react/jsx-runtime";var Rn=pt(function(t){let p=t,{CalendarDot:e,calendarInstanceId:a,calendarRowVerticalSpacing:r=8,calendarRowHorizontalSpacing:s=8,calendarDayHeight:o=32,calendarMonthHeaderHeight:i=20,calendarWeekHeaderHeight:d=o,calendarHorizontalPadding:c=0,onCalendarDayPress:u,theme:y}=p,I=B(p,["CalendarDot","calendarInstanceId","calendarRowVerticalSpacing","calendarRowHorizontalSpacing","calendarDayHeight","calendarMonthHeaderHeight","calendarWeekHeaderHeight","calendarHorizontalPadding","onCalendarDayPress","theme"]),{calendarRowMonth:S,weeksList:C,weekDaysList:D}=ue(I);return wn(le,{alignItems:"center",spacing:r,children:[W(se,{height:i,theme:y==null?void 0:y.rowMonth,children:ct(S)}),W(Q,{spacing:8,theme:y==null?void 0:y.rowWeek,children:D.map((m,f)=>W(oe,{height:d,theme:y==null?void 0:y.itemWeekName,children:m},f))}),C.map((m,f)=>W(Q,{children:m.map(g=>g.isDifferentMonth?W(U,{CalendarDot:e||(()=>null),calendarHorizontalPadding:c,dayHeight:o,daySpacing:s,isEndOfWeek:g.isEndOfWeek,isStartOfWeek:g.isStartOfWeek,metadata:g,theme:y==null?void 0:y.itemDayContainer,children:W(re,{height:o,theme:y==null?void 0:y.itemEmpty})},g.id):W(ae,{CalendarDot:e||(()=>null),calendarHorizontalPadding:c,calendarInstanceId:a,dayHeight:o,daySpacing:s,metadata:g,onPress:u,theme:y==null?void 0:y.itemDay,children:g.displayLabel},g.id))},f))]})}),de=pt(function(t){let S=t,{calendarInstanceId:e,calendarActiveDateRanges:a,calendarDisabledDateIds:r,calendarSpecialDateRange:s,calendarStayDateRange:o,calendarHighSeasonsDateRange:i,calendarMonthId:d,calendarColorScheme:c}=S,u=B(S,["calendarInstanceId","calendarActiveDateRanges","calendarDisabledDateIds","calendarSpecialDateRange","calendarStayDateRange","calendarHighSeasonsDateRange","calendarMonthId","calendarColorScheme"]),y=kn(!0);bn(()=>{if(y.current){y.current=!1;return}let C=b(new Date);K.emit("onSetActiveDateRanges",{todayId:C,instanceId:e,ranges:a!=null?a:[],disabledRanges:r!=null?r:[],specialDateRanges:s!=null?s:[],stayDateRange:o!=null?o:[],highSeasonRange:i!=null?i:[]})},[a,r,s,o,i,e]);let I=Mn(()=>({calendarActiveDateRanges:a,calendarDisabledDateIds:r,calendarSpecialDateRange:s,calendarStayDateRange:o,calendarHighSeasonsDateRange:i}),[d]);return W(tt,{colorScheme:c,children:W(Rn,l(h(l({},u),{calendarInstanceId:e,calendarMonthId:d}),I))})});import{FlashList as xn}from"@shopify/flash-list";import{forwardRef as On,memo as Pn,useCallback as Se,useImperativeHandle as En,useMemo as be,useRef as Hn}from"react";import{View as Wn}from"react-native";import{useCallback as ge,useMemo as ft,useState as Fn}from"react";function mt(n,t,e,a,r,s,o,i,d){switch(arguments.length){case 1:return n;case 2:return t(n);case 3:return e(t(n));case 4:return a(e(t(n)));case 5:return r(a(e(t(n))));case 6:return s(r(a(e(t(n)))));case 7:return o(s(r(a(e(t(n))))));case 8:return i(o(s(r(a(e(t(n)))))));case 9:return d(i(o(s(r(a(e(t(n))))))));default:{let c=arguments[0];for(let u=1;u<arguments.length;u++)c=arguments[u](c);return c}}}var De=(n,t,e="sunday")=>{let a=b(n),r=b(t);if(r<a)return[];let s=[{id:b(n),date:n,numberOfWeeks:ye(n,e)}];if(a===r)return s;let o=Z(t,n);for(let i=1;i<=o;i++){let d=$(n,i),c=ye(d,e);s.push({id:b(d),date:d,numberOfWeeks:c})}return s},yt=(n,t,e)=>{let a=$(e,n),r=b(a),s=t!=null?t:r;return r>s?P(s):a},ut=(n,t,e)=>{let a=fe(e,n),r=b(a),s=t!=null?t:r;return s>r?mt(P(s),A):a},Ie=({calendarInitialMonthId:n,calendarPastScrollRangeInMonths:t,calendarFutureScrollRangeInMonths:e,calendarFirstDayOfWeek:a,calendarMaxDateId:r,calendarMinDateId:s})=>{let{initialMonth:o,initialMonthId:i}=ft(()=>{let C=n?P(n):P(b(new Date)),D=A(C);return{initialMonth:D,initialMonthId:b(D)}},[n]),[d,c]=Fn(()=>{let C=A(o),D=ut(t,s,C),p=yt(e,r,C);return De(D,p,a)}),u=ge(C=>{let D=$(d[d.length-1].date,1),p=yt(Math.max(C-1,0),r,D),m=De(D,p,a),f=[...d,...m];return c(f),f},[a,r,d]),y=ge(C=>{let D=fe(d[0].date,1),p=ut(Math.max(C-1,0),s,D),f=[...De(p,D,a),...d];return c(f),f},[a,s,d]),I=ge(C=>{let D=d[0],p=d[d.length-1];return C>p.id?u(Z(P(C),p.date)):y(Z(D.date,P(C)))},[u,d,y]),S=ft(()=>d.findIndex(D=>D.id===i),[i,d]);return{monthList:d,initialMonthIndex:S,appendMonths:u,prependMonths:y,addMissingMonths:I}},ce=({calendarRowVerticalSpacing:n,calendarDayHeight:t,calendarWeekHeaderHeight:e,calendarMonthHeaderHeight:a,calendarAdditionalHeight:r,calendarMonth:s,calendarSpacing:o})=>{let i=a+n+e+n,d=t*s.numberOfWeeks+(s.numberOfWeeks-1)*n;return i+d+r+o};import{jsx as Me}from"react/jsx-runtime";var Tn=n=>n.id,Ct=Pn(On(function(t,e){let Be=t,{calendarInitialMonthId:a,calendarPastScrollRangeInMonths:r=12,calendarFutureScrollRangeInMonths:s=12,calendarFirstDayOfWeek:o="sunday",CalendarScrollComponent:i=xn,calendarFormatLocale:d,calendarSpacing:c=20,calendarRowHorizontalSpacing:u,calendarRowVerticalSpacing:y=8,calendarMonthHeaderHeight:I=20,calendarDayHeight:S=32,calendarWeekHeaderHeight:C=S,calendarAdditionalHeight:D=0,calendarPaddingHorizontal:p=0,calendarColorScheme:m,theme:f,onEndReached:g}=Be,Ve=B(Be,["calendarInitialMonthId","calendarPastScrollRangeInMonths","calendarFutureScrollRangeInMonths","calendarFirstDayOfWeek","CalendarScrollComponent","calendarFormatLocale","calendarSpacing","calendarRowHorizontalSpacing","calendarRowVerticalSpacing","calendarMonthHeaderHeight","calendarDayHeight","calendarWeekHeaderHeight","calendarAdditionalHeight","calendarPaddingHorizontal","calendarColorScheme","theme","onEndReached"]),{calendarActiveDateRanges:R,calendarStayDateRange:k,calendarHighSeasonsDateRange:w,calendarSpecialDateRange:we,calendarDisabledDateIds:Fe,calendarInstanceId:xe,calendarMaxDateId:gt,calendarMinDateId:Dt,CalendarDot:Oe,getCalendarDayFormat:Pe,getCalendarMonthFormat:Ee,getCalendarWeekDayFormat:He,onCalendarDayPress:We}=Ve,It=B(Ve,["calendarActiveDateRanges","calendarStayDateRange","calendarHighSeasonsDateRange","calendarSpecialDateRange","calendarDisabledDateIds","calendarInstanceId","calendarMaxDateId","calendarMinDateId","CalendarDot","getCalendarDayFormat","getCalendarMonthFormat","getCalendarWeekDayFormat","onCalendarDayPress"]),Te=be(()=>({calendarActiveDateRanges:R,calendarStayDateRange:k,calendarHighSeasonsDateRange:w,calendarSpecialDateRange:we,calendarColorScheme:m,calendarDayHeight:S,calendarDisabledDateIds:Fe,calendarFirstDayOfWeek:o,calendarFormatLocale:d,calendarInstanceId:xe,calendarMonthHeaderHeight:I,calendarRowHorizontalSpacing:u,calendarRowVerticalSpacing:y,calendarWeekHeaderHeight:C,CalendarDot:Oe,getCalendarDayFormat:Pe,getCalendarMonthFormat:Ee,getCalendarWeekDayFormat:He,onCalendarDayPress:We,theme:f}),[m,R,k,w,we,S,Fe,o,d,I,u,y,C,Oe,Pe,Ee,He,xe,We,f]),{initialMonthIndex:St,monthList:q,appendMonths:Ae,addMissingMonths:Le}=Ie({calendarFirstDayOfWeek:o,calendarFutureScrollRangeInMonths:s,calendarPastScrollRangeInMonths:r,calendarInitialMonthId:a,calendarMaxDateId:gt,calendarMinDateId:Dt}),bt=be(()=>q.map(M=>h(l({},M),{calendarProps:Te})),[Te,q]),Mt=Se(()=>{Ae(s),g==null||g()},[Ae,s,g]),kt=Se((M,O)=>{let F=ce({calendarMonth:O,calendarSpacing:c,calendarDayHeight:S,calendarMonthHeaderHeight:I,calendarRowVerticalSpacing:y,calendarAdditionalHeight:D,calendarWeekHeaderHeight:C});M.size=F},[D,S,I,y,c,C]),Ne=Se(M=>{let O=b(A(M)),F=q,T=F.findIndex(L=>L.id===O);return T===-1&&(F=Le(O),T=F.findIndex(L=>L.id===O)),F.slice(0,T).reduce((L,me)=>{let G=ce({calendarMonth:me,calendarSpacing:c,calendarDayHeight:S,calendarMonthHeaderHeight:I,calendarRowVerticalSpacing:y,calendarWeekHeaderHeight:C,calendarAdditionalHeight:D});return L+G},0)},[Le,D,S,I,y,c,C,q]),Y=Hn(null);En(e,()=>({scrollToMonth(M,O,{additionalOffset:F=0}={additionalOffset:0}){setTimeout(()=>{var T;(T=Y.current)==null||T.scrollToOffset({offset:Ne(M)+F,animated:O})},0)},scrollToDate(M,O,{additionalOffset:F=0}={additionalOffset:0}){var ve;let T=Ne(M),L=qe(M,o),me=S+y,G=C+me*L;G=G-y,(ve=Y.current)==null||ve.scrollToOffset({offset:T+G+F,animated:O})},scrollToOffset(M,O){var F;(F=Y.current)==null||F.scrollToOffset({offset:M,animated:O})}}));let Rt=be(()=>({paddingBottom:c,overflow:"visible",paddingHorizontal:p}),[p,c]);return Me(i,l({data:bt,estimatedItemSize:273,initialScrollIndex:St,keyExtractor:Tn,onEndReached:Mt,overrideItemLayout:kt,ref:Y,renderItem:({item:M})=>Me(Wn,{style:Rt,children:Me(de,h(l({calendarMonthId:M.id},M.calendarProps),{calendarHorizontalPadding:p}))}),showsVerticalScrollIndicator:!1},It))}));var ke=he;ke.Container=U;ke.WithContainer=ae;var pe={};pe.Day=ke;pe.WeekName=oe;pe.Empty=re;var Re={};Re.Month=se;Re.Week=Q;var v=de;v.Item=pe;v.Row=Re;v.List=Ct;v.HStack=ie;v.VStack=le;var Er=v;import{useCallback as ht,useMemo as An,useState as Ln}from"react";var Nn=(n={startId:void 0,endId:void 0})=>{let[t,e]=Ln(n),a=ht(s=>{e(o=>!o.startId&&!o.endId?{startId:s,endId:void 0}:o.startId&&o.endId?{startId:s,endId:void 0}:o.startId&&!o.endId?s<o.startId?{startId:s,endId:o.startId}:h(l({},o),{endId:s}):{startId:s,endId:s})},[]),r=ht(()=>{e({startId:void 0,endId:void 0})},[]);return An(()=>{let s=!t.startId&&!t.endId?[]:[t],o=!!(t.startId&&t.endId);return{dateRange:t,calendarActiveDateRanges:s,onClearDateRange:r,onCalendarDayPress:a,isDateRangeValid:o}},[t,a,r])};export{Er as Calendar,K as activeDateRangesEmitter,Ye as buildCalendar,P as fromDateId,ce as getHeightForMonth,b as toDateId,ue as useCalendar,Ie as useCalendarList,Nn as useDateRange,Ce as useOptimizedDayMetadata};
//# sourceMappingURL=index.mjs.map