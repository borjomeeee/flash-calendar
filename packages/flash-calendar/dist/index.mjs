var Mt=Object.defineProperty,kt=Object.defineProperties;var Rt=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable;var Ge=(t,n,e)=>n in t?Mt(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,l=(t,n)=>{for(var e in n||(n={}))ve.call(n,e)&&Ge(t,e,n[e]);if(z)for(var e of z(n))Je.call(n,e)&&Ge(t,e,n[e]);return t},y=(t,n)=>kt(t,Rt(n));var B=(t,n)=>{var e={};for(var a in t)ve.call(t,a)&&n.indexOf(a)<0&&(e[a]=t[a]);if(t!=null&&z)for(var a of z(t))n.indexOf(a)<0&&Je.call(t,a)&&(e[a]=t[a]);return e};import{memo as ct,useEffect as hn}from"react";import{useCallback as Nt,useMemo as te}from"react";import{Pressable as Bt,StyleSheet as nt,Text as Vt,View as ee}from"react-native";function je(t){return{all:t=t||new Map,on:function(n,e){var a=t.get(n);a?a.push(e):t.set(n,[e])},off:function(n,e){var a=t.get(n);a&&(e?a.splice(a.indexOf(e)>>>0,1):t.set(n,[]))},emit:function(n,e){var a=t.get(n);a&&a.slice().map(function(r){r(e)}),(a=t.get("*"))&&a.slice().map(function(r){r(n,e)})}}}import{useEffect as Ye,useState as Et}from"react";import{useMemo as wt}from"react";function S(t){let n=t.getFullYear(),e=t.getMonth()+1,a=t.getDate(),r=e<10?`0${e}`:e,o=a<10?`0${a}`:a;return`${n}-${r}-${o}`}function P(t){let[n,e,a]=t.split("-").map(Number);return new Date(n,e-1,a)}function H(t){return new Date(t.getFullYear(),t.getMonth(),1)}function Ke(t){let n=new Date(t.getFullYear(),t.getMonth()+1,1),e=new Date(n.getTime()-1);return new Date(e)}function Ue(t,n){let e=new Date(t.getTime()),a=e.getDay();if(a===0&&n==="monday")return e.setDate(e.getDate()-6),e;let o=a-(n==="monday"?1:0);return e.setDate(e.getDate()-o),e}function Y(t,n){let e=new Date(t);return e.setMonth(e.getMonth()+n),e}function ye(t,n){let e=new Date(t);return e.setMonth(e.getMonth()-n),e}function v(t,n){let e=new Date(t);return e.setDate(e.getDate()+n),e}function Qe(t,n){let e=new Date(t);return e.setDate(e.getDate()-n),e}function $(t){let n=t.getDay();return n===0||n===6}function _(t,n){let e=t.getFullYear()-n.getFullYear(),a=t.getMonth()-n.getMonth();return e*12+a}function ue(t,n){let a=new Date(t.getFullYear(),t.getMonth(),1).getDay();n==="monday"&&(a=a===0?6:a-1);let r=new Date(t.getFullYear(),t.getMonth()+1,0).getDate();return Math.ceil((a+r)/7)}function qe(t,n){let a=new Date(t.getFullYear(),t.getMonth(),1).getDay();n==="monday"&&(a=a===0?6:a-1);let r=t.getDate();return Math.floor((a+r-1)/7)+1}var X=(t,n,e=1)=>Array.from({length:(n-t)/e+1},(a,r)=>t+r*e);var xt=(t,n)=>{let e=t.getDay();return n==="sunday"?e:e===0?6:e-1},J=({todayId:t,id:n,calendarActiveDateRanges:e,calendarDisabledDateIds:a,calendarHighSeasonsDateRange:r,calendarSpecialDateRange:o,calendarStayDateRange:s})=>{let c=e==null?void 0:e.find(({startId:D,endId:I})=>D&&I?n>=D&&n<=I:D?n===D:I?n===I:!1),i=s==null?void 0:s.find(({startId:D,endId:I})=>D&&I?n>=D&&n<=I:D?n===D:I?n===I:!1),d=(c==null?void 0:c.startId)!==void 0&&c.endId!==void 0,g=(i==null?void 0:i.startId)!==void 0&&i.endId!==void 0,u=d||g,b=a==null?void 0:a.includes(n),h=o==null?void 0:o.find(({dateId:D})=>D===n),m=!!(r!=null&&r.includes(n)),f=t===n,p=c?"active":i!=null&&i.stayId?"stay":b?"disabled":"idle",C=[];return m&&C.push("high-season"),h&&C.push("special-date"),f&&C.push("today"),{isStartOfRange:n===(c==null?void 0:c.startId)||n===(i==null?void 0:i.startId),isEndOfRange:n===(c==null?void 0:c.endId)||n===(i==null?void 0:i.endId),isRangeValid:u,state:p,types:C,isHighSeasonDate:m,specialDate:h,stayDate:i==null?void 0:i.stayId}},Ft=(t,n)=>new Intl.DateTimeFormat(n,{month:"long",year:"numeric"}).format(t),Pt=(t,n)=>new Intl.DateTimeFormat(n,{weekday:"narrow"}).format(t),Ot=(t,n)=>new Intl.DateTimeFormat(n,{day:"numeric"}).format(t),ze=t=>{let{calendarMonthId:n,calendarFirstDayOfWeek:e="sunday",calendarFormatLocale:a="en-US",getCalendarMonthFormat:r=Ft,getCalendarWeekDayFormat:o=Pt,getCalendarDayFormat:s=Ot}=t,c=P(n),i=H(c),d=S(i),g=Ke(c),u=S(g),b=xt(i,e),h=e==="sunday"?0:1,m=e==="sunday"?6:0,f=S(new Date),p=Qe(i,b),C=[[...X(1,b).map(()=>{let M=S(p),x=l({date:p,displayLabel:s(p,a),id:M,isDifferentMonth:!0,isEndOfMonth:!1,isEndOfWeek:p.getDay()===m,isStartOfMonth:!1,isStartOfWeek:p.getDay()===h,isWeekend:$(p)},J(y(l({},t),{todayId:f,id:M})));return p=v(p,1),x})]];for(;p.getMonth()===i.getMonth();){C[C.length-1].length===7&&C.push([]);let x=S(p);C[C.length-1].push(l({date:p,displayLabel:s(p,a),id:x,isDifferentMonth:!1,isEndOfMonth:x===u,isEndOfWeek:p.getDay()===m,isStartOfMonth:x===d,isStartOfWeek:p.getDay()===h,isWeekend:$(p)},J(y(l({},t),{todayId:f,id:x})))),p=v(p,1)}let D=C[C.length-1],I=7-D.length;D.push(...X(1,I).map(()=>{let M=S(p),x=l({date:p,displayLabel:s(p,a),id:M,isDifferentMonth:!0,isEndOfMonth:!1,isEndOfWeek:p.getDay()===m,isStartOfMonth:!1,isStartOfWeek:p.getDay()===h,isWeekend:$(p)},J(y(l({},t),{todayId:f,id:M})));return p=v(p,1),x}));let w=Ue(c,e),W=X(1,7).map(M=>o(v(w,M-1),a));return{weeksList:C,calendarRowMonth:r(c,a),weekDaysList:W}},Ce=t=>wt(()=>ze(t),[t]);var j=je(),$e="flash-calendar-default-instance",ge=(t,n)=>{let[e,a]=Et(t),r=n!=null?n:$e;return Ye(()=>{a(t)},[t]),Ye(()=>{let o=s=>{let{ranges:c,disabledRanges:i,specialDateRanges:d,stayDateRange:g,highSeasonRange:u,instanceId:b=$e}=s;if(b!==r)return;let h=J({id:e.id,calendarActiveDateRanges:c,calendarDisabledDateIds:i,calendarSpecialDateRange:d,calendarStayDateRange:g,calendarHighSeasonsDateRange:u});Object.entries(h).every(([f,p])=>typeof p=="object"?JSON.stringify(p)===JSON.stringify(e[f]):p===e[f])||a(f=>l(l({},f),h))};return j.on("onSetActiveDateRanges",o),()=>{j.off("onSetActiveDateRanges",o)}},[t,r,e]),e};import{useColorScheme as At}from"react-native";var _e={spacing:{0:0,2:2,4:4,6:6,8:8,12:12,16:16,20:20,24:24}},Z=y(l({},_e),{colors:{content:{disabled:"#B0B0B0",primary:"#000000",secondary:"#212121",inverse:{primary:"#FFFFFF"}},background:{primary:"#FFFFFF",tertiary:"#EDEFEE",tertiaryPressed:"#D1D2D3",inverse:{primary:"#000000"}},borders:{default:"#E0E0E0"},transparent:"transparent"}}),Xe=y(l({},_e),{colors:{content:{disabled:"#bdbdbd",primary:"#FFFFFF",secondary:"#e8e8e8",inverse:{primary:"#000000"}},background:{primary:"#000000",tertiary:"#111111",tertiaryPressed:"#212121",inverse:{primary:"#FFFFFF"}},borders:{default:"#5c5c5c"},transparent:"transparent"}});import{createContext as Wt,useContext as Tt,useMemo as Ht}from"react";import{jsx as Lt}from"react/jsx-runtime";var Ze=Wt({colorScheme:void 0}),et=({children:t,colorScheme:n})=>{let e=Ht(()=>({colorScheme:n}),[n]);return Lt(Ze.Provider,{value:e,children:t})},tt=()=>Tt(Ze);var A=()=>{let t=At(),{colorScheme:n}=tt();return(n!=null?n:t)==="dark"?Xe:Z};import{jsx as N,jsxs as vt}from"react/jsx-runtime";var O=nt.create({baseContainer:{padding:6,alignItems:"center",justifyContent:"center",borderRadius:16,flex:1},baseContent:{textAlign:"center"}}),Gt=t=>{let n=y(l({},O.baseContent),{color:t.colors.content.primary});return{active:({isPressed:e,isHovered:a,isStartOfRange:r,isEndOfRange:o})=>{let s=e||a?{container:y(l({},O.baseContainer),{backgroundColor:t.colors.background.tertiary}),content:y(l({},n),{color:t.colors.content.primary})}:{container:y(l({},O.baseContainer),{backgroundColor:t.colors.background.inverse.primary}),content:y(l({},n),{color:t.colors.content.inverse.primary})};return s.container.borderRadius=0,r&&(s.container.borderTopLeftRadius=16,s.container.borderBottomLeftRadius=16),o&&(s.container.borderTopRightRadius=16,s.container.borderBottomRightRadius=16),!r&&!o&&(s.container.borderRadius=0),s},disabled:()=>({container:O.baseContainer,content:y(l({},n),{color:t.colors.content.disabled})}),stay:()=>({container:O.baseContainer,content:n}),idle:({isPressed:e,isHovered:a})=>e||a?{container:y(l({},O.baseContainer),{backgroundColor:t.colors.background.tertiary}),content:y(l({},n),{color:t.colors.content.primary})}:{container:O.baseContainer,content:n},today:({isPressed:e,isHovered:a})=>e||a?{container:y(l({},O.baseContainer),{backgroundColor:t.colors.background.tertiaryPressed}),content:n}:{container:y(l({},O.baseContainer),{borderColor:t.colors.borders.default,borderStyle:"solid",borderWidth:1}),content:n}}},De=({onPress:t,children:n,theme:e,height:a,metadata:r,textProps:o})=>{let s=A(),c=te(()=>Gt(s),[s]),i=Nt(()=>{t(r.id,r)},[r,t]);return N(Bt,{disabled:r.state==="disabled",onPress:i,style:({pressed:d,hovered:g,focused:u})=>{var p,C,D,I;let b={isPressed:d,isHovered:g,isFocused:u,isEndOfRange:(p=r.isEndOfRange)!=null?p:!1,isStartOfRange:(C=r.isStartOfRange)!=null?C:!1},{container:h}=c[r.state](b),m=l({},h);m.borderRadius=0,b.isStartOfRange&&(m.borderTopLeftRadius=16,m.borderBottomLeftRadius=16),b.isEndOfRange&&(m.borderTopRightRadius=16,m.borderBottomRightRadius=16),!b.isStartOfRange&&!b.isEndOfRange&&(m.borderRadius=0);let f=r.types.reduce((w,W)=>{var M;return w=l(l({},w),(M=e==null?void 0:e[W])==null?void 0:M.call(e,y(l({},r),{isPressed:d})).container),w},{});return l(l(l(y(l({},m),{height:a}),f),(D=e==null?void 0:e.base)==null?void 0:D.call(e,y(l({},r),{isPressed:d})).container),(I=e==null?void 0:e[r.state])==null?void 0:I.call(e,y(l({},r),{isPressed:d})).container)},children:({pressed:d,hovered:g,focused:u})=>{var f,p,C,D,I;let b={isPressed:d,isHovered:g,isFocused:u,isEndOfRange:(f=r.isEndOfRange)!=null?f:!1,isStartOfRange:(p=r.isStartOfRange)!=null?p:!1},{content:h}=c[r.state](b),m=r.types.reduce((w,W)=>{var M;return w=l(l({},w),(M=e==null?void 0:e[W])==null?void 0:M.call(e,y(l({},r),{isPressed:d})).content),w},{});return N(Vt,y(l({},o),{style:l(l(l(l(l({},h),(C=o==null?void 0:o.style)!=null?C:{}),m),(D=e==null?void 0:e.base)==null?void 0:D.call(e,y(l({},r),{isPressed:d,isHovered:g,isFocused:u})).content),(I=e==null?void 0:e[r.state])==null?void 0:I.call(e,y(l({},r),{isPressed:d,isHovered:g,isFocused:u})).content),children:n}))}})},K=({children:t,isStartOfWeek:n,shouldShowActiveDayFiller:e,shouldShowSpecialDateDot:a,theme:r,daySpacing:o,dayHeight:s,stay:c})=>{let i=A(),d=te(()=>l({position:"relative",marginLeft:n?0:o,flex:1,height:s},r==null?void 0:r.spacer),[s,o,n,r==null?void 0:r.spacer]),g=te(()=>e?l({position:"absolute",top:0,bottom:0,right:-(o+1),width:o+2,backgroundColor:i.colors.background.inverse.primary},c?r==null?void 0:r.stayDayFiller:r==null?void 0:r.activeDayFiller):null,[i.colors.background.inverse.primary,o,e,r==null?void 0:r.activeDayFiller,r==null?void 0:r.stayDayFiller,c]),u=te(()=>a?l({alignSelf:"center",width:4,height:4,borderRadius:2,backgroundColor:i.colors.background.inverse.primary},r==null?void 0:r.specialDateDot):null,[a,i.colors.background.inverse.primary,r==null?void 0:r.specialDateDot]);return vt(ee,{style:d,children:[t,g?N(ee,{style:g}):null,u?N(ee,{style:y(l({},nt.absoluteFillObject),{alignContent:"center",alignItems:"center",justifyContent:"flex-end"}),children:N(ee,{style:u})}):null]})},ne=({children:t,metadata:n,onPress:e,theme:a,dayHeight:r,daySpacing:o,containerTheme:s,calendarInstanceId:c})=>{let i=ge(n,c);return N(K,{dayHeight:r,daySpacing:o,isStartOfWeek:i.isStartOfWeek,shouldShowActiveDayFiller:i.isRangeValid&&!i.isEndOfWeek?!i.isEndOfRange:!1,shouldShowSpecialDateDot:!!i.specialDate,stay:i.stayDate,theme:s,children:N(De,{height:r,metadata:i,onPress:e,theme:a,children:t})})};import{memo as Jt,useMemo as jt}from"react";import{View as Kt,StyleSheet as Ut}from"react-native";import{jsx as qt}from"react/jsx-runtime";var Qt=Ut.create({container:{padding:6,flex:1}}),ae=Jt(function(n){let{height:e,theme:a}=n,r=jt(()=>[y(l({},Qt.container),{height:e}),a==null?void 0:a.container],[e,a==null?void 0:a.container]);return qt(Kt,{style:r})});import{useMemo as zt}from"react";import{StyleSheet as Yt,Text as $t,View as _t}from"react-native";import{jsx as rt}from"react/jsx-runtime";var at=Yt.create({container:{alignItems:"center",flex:1,justifyContent:"center",padding:Z.spacing[6]},content:{}}),re=({children:t,height:n,theme:e,textProps:a})=>{let{colors:r}=A(),{containerStyles:o,contentStyles:s}=zt(()=>{let c=[at.container,{height:n},e==null?void 0:e.container],i=[at.content,{color:r.content.primary},a==null?void 0:a.style,e==null?void 0:e.content];return{containerStyles:c,contentStyles:i}},[r.content.primary,n,e==null?void 0:e.container,e==null?void 0:e.content,a==null?void 0:a.style]);return rt(_t,{style:o,children:rt($t,y(l({},a),{style:s,children:t}))})};import{useMemo as Xt}from"react";import{StyleSheet as Zt,Text as en,View as tn}from"react-native";import{jsx as st}from"react/jsx-runtime";var ot=Zt.create({container:{width:"100%",alignItems:"center",justifyContent:"center"},content:{textAlign:"center",width:"100%"}}),oe=({children:t,height:n,theme:e})=>{let a=A(),{containerStyles:r,contentStyles:o}=Xt(()=>{let s=[ot.container,{height:n},e==null?void 0:e.container],c=[ot.content,{color:a.colors.content.primary},e==null?void 0:e.content];return{containerStyles:s,contentStyles:c}},[a.colors.content.primary,n,e==null?void 0:e.container,e==null?void 0:e.content]);return st(tn,{style:r,children:st(en,{style:o,children:t})})};import{useMemo as ln}from"react";import{StyleSheet as dn}from"react-native";import{useMemo as nn}from"react";import{StyleSheet as an,View as rn}from"react-native";import{jsx as sn}from"react/jsx-runtime";var on=an.create({container:{alignItems:"center",flexDirection:"row",flexGrow:0,flexShrink:0,flexWrap:"nowrap",justifyContent:"flex-start"}}),se=({alignItems:t,children:n,justifyContent:e="flex-start",grow:a=!1,shrink:r=!1,spacing:o=0,wrap:s="nowrap",backgroundColor:c,width:i,style:d={}})=>{let g=nn(()=>[on.container,{gap:o},a?{flexGrow:1}:{},r?{flexShrink:1}:{},s?{flexWrap:s}:{},t?{alignItems:t}:{},e?{justifyContent:e}:{},c?{backgroundColor:c}:{},i?{width:i}:{},d],[t,c,a,e,r,o,d,i,s]);return sn(rn,{style:g,children:n})};import{jsx as pn}from"react/jsx-runtime";var cn=dn.create({container:{width:"100%"}}),U=({children:t,spacing:n=0,theme:e})=>{let{containerStyles:a}=ln(()=>{var r;return{containerStyles:l(l({},cn.container),(r=e==null?void 0:e.container)!=null?r:{})}},[e==null?void 0:e.container]);return pn(se,{alignItems:"center",grow:!0,justifyContent:"space-between",spacing:n,style:a,children:t})};import{Children as mn,Fragment as lt,isValidElement as fn,useMemo as yn}from"react";import{StyleSheet as un,View as Cn}from"react-native";import{jsx as it}from"react/jsx-runtime";var gn=un.create({container:{flexDirection:"column"}});function Dn(t){return fn(t)&&t.type===lt}function ie({children:t,spacing:n=0,alignItems:e,justifyContent:a,grow:r}){let o=yn(()=>y(l({},gn.container),{gap:n,alignItems:e,justifyContent:a,flex:r?1:void 0}),[e,r,a,n]);return it(Cn,{style:o,children:mn.toArray(t).map(s=>Dn(s)?s.props.children:s).flat().filter(s=>s!==null&&typeof s!="undefined").map((s,c)=>it(lt,{children:s},c))})}var dt=t=>t.charAt(0).toUpperCase()+t.slice(1);import{jsx as E,jsxs as Sn}from"react/jsx-runtime";var bn=ct(function(n){let m=n,{calendarInstanceId:e,calendarRowVerticalSpacing:a=8,calendarRowHorizontalSpacing:r=8,calendarDayHeight:o=32,calendarMonthHeaderHeight:s=20,calendarWeekHeaderHeight:c=o,onCalendarDayPress:i,theme:d}=m,g=B(m,["calendarInstanceId","calendarRowVerticalSpacing","calendarRowHorizontalSpacing","calendarDayHeight","calendarMonthHeaderHeight","calendarWeekHeaderHeight","onCalendarDayPress","theme"]),{calendarRowMonth:u,weeksList:b,weekDaysList:h}=Ce(g);return Sn(ie,{alignItems:"center",spacing:a,children:[E(oe,{height:s,theme:d==null?void 0:d.rowMonth,children:dt(u)}),E(U,{spacing:8,theme:d==null?void 0:d.rowWeek,children:h.map((f,p)=>E(re,{height:c,theme:d==null?void 0:d.itemWeekName,children:f},p))}),b.map((f,p)=>E(U,{children:f.map(C=>C.isDifferentMonth?E(K,{dayHeight:o,daySpacing:r,isStartOfWeek:C.isStartOfWeek,theme:d==null?void 0:d.itemDayContainer,children:E(ae,{height:o,theme:d==null?void 0:d.itemEmpty})},C.id):E(ne,{calendarInstanceId:e,containerTheme:d==null?void 0:d.itemDayContainer,dayHeight:o,daySpacing:r,metadata:C,onPress:i,theme:d==null?void 0:d.itemDay,children:C.displayLabel},C.id))},p))]})}),le=ct(function(n){let u=n,{calendarInstanceId:e,calendarActiveDateRanges:a,calendarDisabledDateIds:r,calendarSpecialDateRange:o,calendarStayDateRange:s,calendarHighSeasonsDateRange:c,calendarMonthId:i,calendarColorScheme:d}=u,g=B(u,["calendarInstanceId","calendarActiveDateRanges","calendarDisabledDateIds","calendarSpecialDateRange","calendarStayDateRange","calendarHighSeasonsDateRange","calendarMonthId","calendarColorScheme"]);return hn(()=>{j.emit("onSetActiveDateRanges",{instanceId:e,ranges:a!=null?a:[],disabledRanges:r!=null?r:[],specialDateRanges:o!=null?o:[],stayDateRange:s!=null?s:[],highSeasonRange:c!=null?c:[]})},[a,r,o,s,c,e,i]),E(et,{colorScheme:d,children:E(bn,y(l({},g),{calendarInstanceId:e,calendarMonthId:i}))})});import{FlashList as Mn}from"@shopify/flash-list";import{forwardRef as kn,memo as Rn,useCallback as Ie,useImperativeHandle as wn,useMemo as Me,useRef as xn}from"react";import{View as Fn}from"react-native";import{useCallback as he,useMemo as mt,useState as In}from"react";function pt(t,n,e,a,r,o,s,c,i){switch(arguments.length){case 1:return t;case 2:return n(t);case 3:return e(n(t));case 4:return a(e(n(t)));case 5:return r(a(e(n(t))));case 6:return o(r(a(e(n(t)))));case 7:return s(o(r(a(e(n(t))))));case 8:return c(s(o(r(a(e(n(t)))))));case 9:return i(c(s(o(r(a(e(n(t))))))));default:{let d=arguments[0];for(let g=1;g<arguments.length;g++)d=arguments[g](d);return d}}}var be=(t,n,e="sunday")=>{let a=S(t),r=S(n);if(r<a)return[];let o=[{id:S(t),date:t,numberOfWeeks:ue(t,e)}];if(a===r)return o;let s=_(n,t);for(let c=1;c<=s;c++){let i=Y(t,c),d=ue(i,e);o.push({id:S(i),date:i,numberOfWeeks:d})}return o},ft=(t,n,e)=>{let a=Y(e,t),r=S(a),o=n!=null?n:r;return r>o?P(o):a},yt=(t,n,e)=>{let a=ye(e,t),r=S(a),o=n!=null?n:r;return o>r?pt(P(o),H):a},Se=({calendarInitialMonthId:t,calendarPastScrollRangeInMonths:n,calendarFutureScrollRangeInMonths:e,calendarFirstDayOfWeek:a,calendarMaxDateId:r,calendarMinDateId:o})=>{let{initialMonth:s,initialMonthId:c}=mt(()=>{let m=t?P(t):P(S(new Date)),f=H(m);return{initialMonth:f,initialMonthId:S(f)}},[t]),[i,d]=In(()=>{let m=H(s),f=yt(n,o,m),p=ft(e,r,m);return be(f,p,a)}),g=he(m=>{let f=Y(i[i.length-1].date,1),p=ft(Math.max(m-1,0),r,f),C=be(f,p,a),D=[...i,...C];return d(D),D},[a,r,i]),u=he(m=>{let f=ye(i[0].date,1),p=yt(Math.max(m-1,0),o,f),D=[...be(p,f,a),...i];return d(D),D},[a,o,i]),b=he(m=>{let f=i[0],p=i[i.length-1];return m>p.id?g(_(P(m),p.date)):u(_(f.date,P(m)))},[g,i,u]),h=mt(()=>i.findIndex(f=>f.id===c),[c,i]);return{monthList:i,initialMonthIndex:h,appendMonths:g,prependMonths:u,addMissingMonths:b}},de=({calendarRowVerticalSpacing:t,calendarDayHeight:n,calendarWeekHeaderHeight:e,calendarMonthHeaderHeight:a,calendarAdditionalHeight:r,calendarMonth:o,calendarSpacing:s})=>{let c=a+t+e+t,i=n*o.numberOfWeeks+(o.numberOfWeeks-1)*t;return c+i+r+s};import{jsx as ke}from"react/jsx-runtime";var Pn=t=>t.id,ut=Rn(kn(function(n,e){let Ne=n,{calendarInitialMonthId:a,calendarPastScrollRangeInMonths:r=12,calendarFutureScrollRangeInMonths:o=12,calendarFirstDayOfWeek:s="sunday",CalendarScrollComponent:c=Mn,calendarFormatLocale:i,calendarSpacing:d=20,calendarRowHorizontalSpacing:g,calendarRowVerticalSpacing:u=8,calendarMonthHeaderHeight:b=20,calendarDayHeight:h=32,calendarWeekHeaderHeight:m=h,calendarAdditionalHeight:f=0,calendarColorScheme:p,theme:C,onEndReached:D}=Ne,Be=B(Ne,["calendarInitialMonthId","calendarPastScrollRangeInMonths","calendarFutureScrollRangeInMonths","calendarFirstDayOfWeek","CalendarScrollComponent","calendarFormatLocale","calendarSpacing","calendarRowHorizontalSpacing","calendarRowVerticalSpacing","calendarMonthHeaderHeight","calendarDayHeight","calendarWeekHeaderHeight","calendarAdditionalHeight","calendarColorScheme","theme","onEndReached"]),{calendarActiveDateRanges:w,calendarStayDateRange:W,calendarHighSeasonsDateRange:M,calendarSpecialDateRange:x,calendarDisabledDateIds:xe,calendarInstanceId:Fe,calendarMaxDateId:pe,calendarMinDateId:me,getCalendarDayFormat:Pe,getCalendarMonthFormat:Oe,getCalendarWeekDayFormat:Ee,onCalendarDayPress:We}=Be,gt=B(Be,["calendarActiveDateRanges","calendarStayDateRange","calendarHighSeasonsDateRange","calendarSpecialDateRange","calendarDisabledDateIds","calendarInstanceId","calendarMaxDateId","calendarMinDateId","getCalendarDayFormat","getCalendarMonthFormat","getCalendarWeekDayFormat","onCalendarDayPress"]),Te=Me(()=>({calendarActiveDateRanges:w,calendarStayDateRange:W,calendarHighSeasonsDateRange:M,calendarSpecialDateRange:x,calendarColorScheme:p,calendarDayHeight:h,calendarDisabledDateIds:xe,calendarFirstDayOfWeek:s,calendarFormatLocale:i,calendarInstanceId:Fe,calendarMaxDateId:pe,calendarMinDateId:me,calendarMonthHeaderHeight:b,calendarRowHorizontalSpacing:g,calendarRowVerticalSpacing:u,calendarWeekHeaderHeight:m,getCalendarDayFormat:Pe,getCalendarMonthFormat:Oe,getCalendarWeekDayFormat:Ee,onCalendarDayPress:We,theme:C}),[p,w,W,M,x,h,xe,s,i,pe,me,b,g,u,m,Pe,Oe,Ee,Fe,We,C]),{initialMonthIndex:Dt,monthList:Q,appendMonths:He,addMissingMonths:Le}=Se({calendarFirstDayOfWeek:s,calendarFutureScrollRangeInMonths:o,calendarPastScrollRangeInMonths:r,calendarInitialMonthId:a,calendarMaxDateId:pe,calendarMinDateId:me}),ht=Me(()=>Q.map(k=>y(l({},k),{calendarProps:Te})),[Te,Q]),bt=Ie(()=>{He(o),D==null||D()},[He,o,D]),St=Ie((k,F)=>{let R=de({calendarMonth:F,calendarSpacing:d,calendarDayHeight:h,calendarMonthHeaderHeight:b,calendarRowVerticalSpacing:u,calendarAdditionalHeight:f,calendarWeekHeaderHeight:m});k.size=R},[f,h,b,u,d,m]),Ae=Ie(k=>{let F=S(H(k)),R=Q,T=R.findIndex(L=>L.id===F);return T===-1&&(R=Le(F),T=R.findIndex(L=>L.id===F)),R.slice(0,T).reduce((L,fe)=>{let G=de({calendarMonth:fe,calendarSpacing:d,calendarDayHeight:h,calendarMonthHeaderHeight:b,calendarRowVerticalSpacing:u,calendarWeekHeaderHeight:m,calendarAdditionalHeight:f});return L+G},0)},[Le,f,h,b,u,d,m,Q]),q=xn(null);wn(e,()=>({scrollToMonth(k,F,{additionalOffset:R=0}={additionalOffset:0}){setTimeout(()=>{var T;(T=q.current)==null||T.scrollToOffset({offset:Ae(k)+R,animated:F})},0)},scrollToDate(k,F,{additionalOffset:R=0}={additionalOffset:0}){var Ve;let T=Ae(k),L=qe(k,s),fe=h+u,G=m+fe*L;G=G-u,(Ve=q.current)==null||Ve.scrollToOffset({offset:T+G+R,animated:F})},scrollToOffset(k,F){var R;(R=q.current)==null||R.scrollToOffset({offset:k,animated:F})}}));let It=Me(()=>({paddingBottom:d}),[d]);return ke(c,l({data:ht,estimatedItemSize:273,initialScrollIndex:Dt,keyExtractor:Pn,onEndReached:bt,overrideItemLayout:St,ref:q,renderItem:({item:k})=>ke(Fn,{style:It,children:ke(le,l({calendarMonthId:k.id},k.calendarProps))}),showsVerticalScrollIndicator:!1},gt))}));var Re=De;Re.Container=K;Re.WithContainer=ne;var ce={};ce.Day=Re;ce.WeekName=re;ce.Empty=ae;var we={};we.Month=oe;we.Week=U;var V=le;V.Item=ce;V.Row=we;V.List=ut;V.HStack=se;V.VStack=ie;var Rr=V;import{useCallback as Ct,useMemo as On,useState as En}from"react";var Wn=(t={startId:void 0,endId:void 0})=>{let[n,e]=En(t),a=Ct(o=>{e(s=>!s.startId&&!s.endId?{startId:o,endId:void 0}:s.startId&&s.endId?{startId:o,endId:void 0}:s.startId&&!s.endId?o<s.startId?{startId:o,endId:s.startId}:y(l({},s),{endId:o}):{startId:o,endId:o})},[]),r=Ct(()=>{e({startId:void 0,endId:void 0})},[]);return On(()=>{let o=!n.startId&&!n.endId?[]:[n],s=!!(n.startId&&n.endId);return{dateRange:n,calendarActiveDateRanges:o,onClearDateRange:r,onCalendarDayPress:a,isDateRangeValid:s}},[n,a,r])};export{Rr as Calendar,j as activeDateRangesEmitter,ze as buildCalendar,P as fromDateId,de as getHeightForMonth,S as toDateId,Ce as useCalendar,Se as useCalendarList,Wn as useDateRange,ge as useOptimizedDayMetadata};
//# sourceMappingURL=index.mjs.map