"use strict";var ie=Object.defineProperty,Jt=Object.defineProperties,Kt=Object.getOwnPropertyDescriptor,Ut=Object.getOwnPropertyDescriptors,zt=Object.getOwnPropertyNames,se=Object.getOwnPropertySymbols;var Ee=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable;var tt=(n,t,e)=>t in n?ie(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,l=(n,t)=>{for(var e in t||(t={}))Ee.call(t,e)&&tt(n,e,t[e]);if(se)for(var e of se(t))nt.call(t,e)&&tt(n,e,t[e]);return n},h=(n,t)=>Jt(n,Ut(t));var U=(n,t)=>{var e={};for(var a in n)Ee.call(n,a)&&t.indexOf(a)<0&&(e[a]=n[a]);if(n!=null&&se)for(var a of se(n))t.indexOf(a)<0&&nt.call(n,a)&&(e[a]=n[a]);return e};var Qt=(n,t)=>{for(var e in t)ie(n,e,{get:t[e],enumerable:!0})},qt=(n,t,e,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of zt(t))!Ee.call(n,r)&&r!==e&&ie(n,r,{get:()=>t[r],enumerable:!(a=Kt(t,r))||a.enumerable});return n};var Yt=n=>qt(ie({},"__esModule",{value:!0}),n);var cn={};Qt(cn,{Calendar:()=>dn,activeDateRangesEmitter:()=>z,buildCalendar:()=>Te,fromDateId:()=>T,getHeightForMonth:()=>ae,toDateId:()=>b,useCalendar:()=>fe,useCalendarList:()=>xe,useDateRange:()=>Tt,useOptimizedDayMetadata:()=>ye});module.exports=Yt(cn);var N=require("react");var G=require("react"),x=require("react-native");function at(n){return{all:n=n||new Map,on:function(t,e){var a=n.get(t);a?a.push(e):n.set(t,[e])},off:function(t,e){var a=n.get(t);a&&(e?a.splice(a.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var a=n.get(t);a&&a.slice().map(function(r){r(e)}),(a=n.get("*"))&&a.slice().map(function(r){r(t,e)})}}}var ee=require("react");var lt=require("react");function b(n){let t=n.getFullYear(),e=n.getMonth()+1,a=n.getDate(),r=e<10?`0${e}`:e,s=a<10?`0${a}`:a;return`${t}-${r}-${s}`}function T(n){let[t,e,a]=n.split("-").map(Number);return new Date(t,e-1,a)}function v(n){return new Date(n.getFullYear(),n.getMonth(),1)}function rt(n){let t=new Date(n.getFullYear(),n.getMonth()+1,1),e=new Date(t.getTime()-1);return new Date(e)}function ot(n,t){let e=new Date(n.getTime()),a=e.getDay();if(a===0&&t==="monday")return e.setDate(e.getDate()-6),e;let s=a-(t==="monday"?1:0);return e.setDate(e.getDate()-s),e}function le(n,t){let e=new Date(n);return e.setMonth(e.getMonth()+t),e}function We(n,t){let e=new Date(n);return e.setMonth(e.getMonth()-t),e}function X(n,t){let e=new Date(n);return e.setDate(e.getDate()+t),e}function st(n,t){let e=new Date(n);return e.setDate(e.getDate()-t),e}function de(n){let t=n.getDay();return t===0||t===6}function ce(n,t){let e=n.getFullYear()-t.getFullYear(),a=n.getMonth()-t.getMonth();return e*12+a}function He(n,t){let a=new Date(n.getFullYear(),n.getMonth(),1).getDay();t==="monday"&&(a=a===0?6:a-1);let r=new Date(n.getFullYear(),n.getMonth()+1,0).getDate();return Math.ceil((a+r)/7)}function it(n,t){let a=new Date(n.getFullYear(),n.getMonth(),1).getDay();t==="monday"&&(a=a===0?6:a-1);let r=n.getDate();return Math.floor((a+r-1)/7)+1}var pe=(n,t,e=1)=>Array.from({length:(t-n)/e+1},(a,r)=>n+r*e);var _t=(n,t)=>{let e=n.getDay();return t==="sunday"?e:e===0?6:e-1},Z=({todayId:n,id:t,calendarActiveDateRanges:e,calendarDisabledDateIds:a,calendarHighSeasonsDateRange:r,calendarSpecialDateRange:s,calendarStayDateRange:o})=>{let i=me(e||[],t),d=me(o||[],t),c=me(r||[],t),u=me(a||[],t),y=!!i,D=!!d,S=!!u,C=!!c,g=s==null?void 0:s.find(({dateId:m})=>m===t),p=n===t,f=["idle"];return C&&f.push("high-season"),g&&f.push("special-date"),S&&f.push("disabled"),p&&f.push("today"),D&&f.push("stay"),y&&f.push("active"),{isStartOfRange:[["active",(i==null?void 0:i.startId)===t],["stay",(d==null?void 0:d.startId)===t],["disabled",(u==null?void 0:u.startId)===t],["high-season",(c==null?void 0:c.startId)===t]].filter(([m,I])=>I).map(([m])=>m),isEndOfRange:[["active",(i==null?void 0:i.endId)===t],["stay",(d==null?void 0:d.endId)===t],["disabled",(u==null?void 0:u.endId)===t],["high-season",(c==null?void 0:c.endId)===t]].filter(([m,I])=>I).map(([m])=>m),isRangeValid:[["active",(i==null?void 0:i.startId)&&(i==null?void 0:i.endId)&&t>=(i==null?void 0:i.startId)&&t<=(i==null?void 0:i.endId)],["stay",(d==null?void 0:d.startId)&&(d==null?void 0:d.endId)&&t>=(d==null?void 0:d.startId)&&t<=(d==null?void 0:d.endId)],["disabled",(u==null?void 0:u.startId)&&(u==null?void 0:u.endId)&&t>=(u==null?void 0:u.startId)&&t<=(u==null?void 0:u.endId)],["high-season",(c==null?void 0:c.startId)&&(c==null?void 0:c.endId)&&t>=(c==null?void 0:c.startId)&&t<=(c==null?void 0:c.endId)]].filter(([m,I])=>I).map(([m])=>m),state:f,additionalData:{isHighSeasonDate:C,specialDate:g,stayDate:d==null?void 0:d.stayId}}},$t=(n,t)=>new Intl.DateTimeFormat(t,{month:"long",year:"numeric"}).format(n),Xt=(n,t)=>new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(n),Zt=(n,t)=>new Intl.DateTimeFormat(t,{day:"numeric"}).format(n),Te=n=>{let{calendarMonthId:t,calendarFirstDayOfWeek:e="sunday",calendarFormatLocale:a="en-US",getCalendarMonthFormat:r=$t,getCalendarWeekDayFormat:s=Xt,getCalendarDayFormat:o=Zt}=n,i=T(t),d=v(i),c=b(d),u=rt(i),y=b(u),D=_t(d,e),S=e==="sunday"?0:1,C=e==="sunday"?6:0,g=b(new Date),p=st(d,D),f=[[...pe(1,D).map(()=>{let F=b(p),O=l({date:p,displayLabel:o(p,a),id:F,isDifferentMonth:!0,isEndOfMonth:!1,isEndOfWeek:p.getDay()===C,isStartOfMonth:!1,isStartOfWeek:p.getDay()===S,isWeekend:de(p)},Z(h(l({},n),{todayId:g,id:F})));return p=X(p,1),O})]];for(;p.getMonth()===d.getMonth();){f[f.length-1].length===7&&f.push([]);let O=b(p);f[f.length-1].push(l({date:p,displayLabel:o(p,a),id:O,isDifferentMonth:!1,isEndOfMonth:O===y,isEndOfWeek:p.getDay()===C,isStartOfMonth:O===c,isStartOfWeek:p.getDay()===S,isWeekend:de(p)},Z(h(l({},n),{todayId:g,id:O})))),p=X(p,1)}let m=f[f.length-1],I=7-m.length;m.push(...pe(1,I).map(()=>{let F=b(p),O=l({date:p,displayLabel:o(p,a),id:F,isDifferentMonth:!0,isEndOfMonth:!1,isEndOfWeek:p.getDay()===C,isStartOfMonth:!1,isStartOfWeek:p.getDay()===S,isWeekend:de(p)},Z(h(l({},n),{todayId:g,id:F})));return p=X(p,1),O}));let W=ot(i,e),w=pe(1,7).map(F=>s(X(W,F-1),a));return{weeksList:f,calendarRowMonth:r(i,a),weekDaysList:w}},fe=n=>(0,lt.useMemo)(()=>Te(n),[n]);function me(n,t){return n.find(({startId:e,endId:a})=>e&&a?t>=e&&t<=a:e?t===e:a?t===a:!1)}var z=at(),dt="flash-calendar-default-instance",ye=(n,t)=>{let[e,a]=(0,ee.useState)(n),r=t!=null?t:dt;return(0,ee.useEffect)(()=>{a(n)},[n]),(0,ee.useEffect)(()=>{let s=o=>{let{todayId:i,ranges:d,disabledRanges:c,specialDateRanges:u,stayDateRange:y,highSeasonRange:D,instanceId:S=dt}=o;if(S!==r)return;let C=Z({id:e.id,todayId:i,calendarActiveDateRanges:d,calendarDisabledDateIds:c,calendarSpecialDateRange:u,calendarStayDateRange:y,calendarHighSeasonsDateRange:D});Object.entries(C).every(([p,f])=>typeof f=="object"?JSON.stringify(f)===JSON.stringify(e[p]):f===e[p])||a(p=>l(l({},p),C))};return z.on("onSetActiveDateRanges",s),()=>{z.off("onSetActiveDateRanges",s)}},[n,r,e]),e};var Ct=require("react-native");var ct={spacing:{0:0,2:2,4:4,6:6,8:8,12:12,16:16,20:20,24:24}},ue=h(l({},ct),{colors:{content:{disabled:"#B0B0B0",primary:"#000000",secondary:"#212121",inverse:{primary:"#FFFFFF"}},background:{primary:"#FFFFFF",tertiary:"#EDEFEE",tertiaryPressed:"#D1D2D3",inverse:{primary:"#000000"}},borders:{default:"#E0E0E0"},transparent:"transparent"}}),pt=h(l({},ct),{colors:{content:{disabled:"#bdbdbd",primary:"#FFFFFF",secondary:"#e8e8e8",inverse:{primary:"#000000"}},background:{primary:"#000000",tertiary:"#111111",tertiaryPressed:"#212121",inverse:{primary:"#FFFFFF"}},borders:{default:"#5c5c5c"},transparent:"transparent"}});var Q=require("react"),ut=require("react/jsx-runtime"),mt=(0,Q.createContext)({colorScheme:void 0}),ft=({children:n,colorScheme:t})=>{let e=(0,Q.useMemo)(()=>({colorScheme:t}),[t]);return(0,ut.jsx)(mt.Provider,{value:e,children:n})},yt=()=>(0,Q.useContext)(mt);var J=()=>{let n=(0,Ct.useColorScheme)(),{colorScheme:t}=yt();return(t!=null?t:n)==="dark"?pt:ue};var R=require("react/jsx-runtime"),A=x.StyleSheet.create({baseContainer:{flex:1,justifyContent:"center"},baseContent:{textAlign:"center"}}),en=n=>{let t=h(l({},A.baseContent),{color:n.colors.content.primary});return{active:({isPressed:e,isHovered:a,isStartOfRange:r,isEndOfRange:s})=>{let o=e||a?{container:h(l({},A.baseContainer),{backgroundColor:n.colors.background.tertiary}),content:h(l({},t),{color:n.colors.content.primary})}:{container:h(l({},A.baseContainer),{backgroundColor:n.colors.background.inverse.primary}),content:h(l({},t),{color:n.colors.content.inverse.primary})};return o.container.borderRadius=0,r&&(o.container.borderTopLeftRadius=16,o.container.borderBottomLeftRadius=16),s&&(o.container.borderTopRightRadius=16,o.container.borderBottomRightRadius=16),!r&&!s&&(o.container.borderRadius=0),o},disabled:()=>({container:A.baseContainer,content:h(l({},t),{color:n.colors.content.disabled})}),stay:()=>({container:A.baseContainer,content:t}),idle:({isPressed:e,isHovered:a})=>e||a?{container:h(l({},A.baseContainer),{backgroundColor:n.colors.background.tertiary}),content:h(l({},t),{color:n.colors.content.primary})}:{container:A.baseContainer,content:t},today:({isPressed:e,isHovered:a})=>e||a?{container:h(l({},A.baseContainer),{backgroundColor:n.colors.background.tertiaryPressed}),content:t}:{container:h(l({},A.baseContainer),{borderColor:n.colors.borders.default,borderStyle:"solid",borderWidth:1}),content:t}}},Ae=({onPress:n,children:t,theme:e,height:a,metadata:r,textProps:s})=>{let o=J(),i=(0,G.useMemo)(()=>en(o),[o]),d=(0,G.useCallback)(()=>{n(r.id,r)},[r,n]);return(0,R.jsx)(x.Pressable,{disabled:r.state.includes("disabled"),onPress:d,style:{flex:1,height:a},children:({pressed:c,hovered:u,focused:y})=>{var p;let D={isPressed:c,isHovered:u,isFocused:y},S=r.state.reduce((f,m)=>{var I;return f=l(l({},f),(I=i==null?void 0:i[m])==null?void 0:I.call(i,h(l(l({},D),r),{isStartOfRange:r.isStartOfRange.includes(m),isEndOfRange:r.isEndOfRange.includes(m)})).content),f},{}),C=r.state.reduce((f,m)=>{var I;return f=l(l({},f),(I=e==null?void 0:e[m])==null?void 0:I.call(e,h(l(l({},D),r),{isStartOfRange:r.isStartOfRange.includes(m),isEndOfRange:r.isEndOfRange.includes(m)})).content),f},{}),g=r.state.reverse().reduce((f,m)=>{var w,F;let I=l({},(w=i==null?void 0:i[m])==null?void 0:w.call(i,h(l(l({},D),r),{isStartOfRange:r.isStartOfRange.includes(m),isEndOfRange:r.isEndOfRange.includes(m)})).container),W=l({},(F=e==null?void 0:e[m])==null?void 0:F.call(e,h(l(l({},D),r),{isStartOfRange:r.isStartOfRange.includes(m),isEndOfRange:r.isEndOfRange.includes(m)})).container);return({children:O})=>(0,R.jsx)(f,{children:(0,R.jsx)(x.View,{style:l(l({flex:1,justifyContent:"center"},I),W),children:O})})},({children:f})=>f);return(0,R.jsx)(g,{children:(0,R.jsx)(x.Text,h(l({},s),{style:l(l(l({},(p=s==null?void 0:s.style)!=null?p:{}),S),C),children:t}))})}})},te=({children:n,isStartOfWeek:t,isEndOfWeek:e,daySpacing:a,dayHeight:r,calendarHorizontalPadding:s,metadata:o,theme:i,CalendarDot:d})=>{let c=J(),u={isPressed:!1,isHovered:!1,isFocused:!1},y=o.state.reduce((f,m)=>{var w;let I=o.isEndOfRange.includes(m),W=o.isStartOfRange.includes(m);return I||!o.isRangeValid.includes(m)?f:l(l({},f||{}),(w=i==null?void 0:i[m])==null?void 0:w.call(i,h(l(l({},u),o),{isEndOfRange:I,isStartOfRange:W})).container)},void 0),D=o.state.reduce((f,m)=>{var w;let I=o.isEndOfRange.includes(m),W=o.isStartOfRange.includes(m);return!o.isRangeValid.includes(m)||W&&!e||I&&!t?f:l(l({},f||{}),(w=i==null?void 0:i[m])==null?void 0:w.call(i,h(l(l({},u),o),{isEndOfRange:I,isStartOfRange:W})).container)},void 0),S=(0,G.useMemo)(()=>({position:"relative",marginLeft:t?0:a,flex:1,height:r,overflow:"visible"}),[r,a,t]),C=(0,G.useMemo)(()=>!y||e?null:l({position:"absolute",top:0,bottom:0,right:-(a+1),width:a+2,backgroundColor:c.colors.background.inverse.primary},y),[c.colors.background.inverse.primary,a,e,y]),g=(0,G.useMemo)(()=>D&&t?l({position:"absolute",top:0,bottom:0,left:-(s+1),width:s+2,backgroundColor:c.colors.background.inverse.primary},D):null,[c.colors.background.inverse.primary,s,t,D]),p=(0,G.useMemo)(()=>D&&e?l({position:"absolute",top:0,bottom:0,right:-s-1,width:s+2,backgroundColor:c.colors.background.inverse.primary},D):null,[c.colors.background.inverse.primary,s,e,D]);return(0,R.jsxs)(x.View,{style:S,children:[g?(0,R.jsx)(x.View,{style:g}):null,n,C?(0,R.jsx)(x.View,{style:C}):null,o.additionalData.specialDate?(0,R.jsx)(x.View,{style:h(l({},x.StyleSheet.absoluteFillObject),{alignContent:"center",alignItems:"center",justifyContent:"flex-end"}),children:(0,R.jsx)(d,{})}):null,p?(0,R.jsx)(x.View,{style:p}):null]})},Ce=({children:n,metadata:t,onPress:e,theme:a,dayHeight:r,daySpacing:s,calendarHorizontalPadding:o,calendarInstanceId:i,CalendarDot:d})=>{let c=ye(t,i);return(0,R.jsx)(te,{CalendarDot:d,calendarHorizontalPadding:o,dayHeight:r,daySpacing:s,isEndOfWeek:c.isEndOfWeek,isStartOfWeek:c.isStartOfWeek,metadata:c,theme:a,children:(0,R.jsx)(Ae,{height:r,metadata:c,onPress:e,theme:a,children:n})})};var he=require("react"),ge=require("react-native");var ht=require("react/jsx-runtime"),tn=ge.StyleSheet.create({container:{padding:6,flex:1}}),De=(0,he.memo)(function(t){let{height:e,theme:a}=t,r=(0,he.useMemo)(()=>[h(l({},tn.container),{height:e}),a==null?void 0:a.container],[e,a==null?void 0:a.container]);return(0,ht.jsx)(ge.View,{style:r})});var Dt=require("react"),q=require("react-native");var Le=require("react/jsx-runtime"),gt=q.StyleSheet.create({container:{alignItems:"center",flex:1,justifyContent:"center",padding:ue.spacing[6]},content:{}}),Ie=({children:n,height:t,theme:e,textProps:a})=>{let{colors:r}=J(),{containerStyles:s,contentStyles:o}=(0,Dt.useMemo)(()=>{let i=[gt.container,{height:t},e==null?void 0:e.container],d=[gt.content,{color:r.content.primary},a==null?void 0:a.style,e==null?void 0:e.content];return{containerStyles:i,contentStyles:d}},[r.content.primary,t,e==null?void 0:e.container,e==null?void 0:e.content,a==null?void 0:a.style]);return(0,Le.jsx)(q.View,{style:s,children:(0,Le.jsx)(q.Text,h(l({},a),{style:o,children:n}))})};var St=require("react"),Y=require("react-native");var Ne=require("react/jsx-runtime"),It=Y.StyleSheet.create({container:{width:"100%",alignItems:"center",justifyContent:"center"},content:{textAlign:"center",width:"100%"}}),Se=({children:n,height:t,theme:e})=>{let a=J(),{containerStyles:r,contentStyles:s}=(0,St.useMemo)(()=>{let o=[It.container,{height:t},e==null?void 0:e.container],i=[It.content,{color:a.colors.content.primary},e==null?void 0:e.content];return{containerStyles:o,contentStyles:i}},[a.colors.content.primary,t,e==null?void 0:e.container,e==null?void 0:e.content]);return(0,Ne.jsx)(Y.View,{style:r,children:(0,Ne.jsx)(Y.Text,{style:s,children:n})})};var kt=require("react"),Rt=require("react-native");var bt=require("react"),be=require("react-native"),Mt=require("react/jsx-runtime"),nn=be.StyleSheet.create({container:{alignItems:"center",flexDirection:"row",flexGrow:0,flexShrink:0,flexWrap:"nowrap",justifyContent:"flex-start"}}),Me=({alignItems:n,children:t,justifyContent:e="flex-start",grow:a=!1,shrink:r=!1,spacing:s=0,wrap:o="nowrap",backgroundColor:i,width:d,style:c={}})=>{let u=(0,bt.useMemo)(()=>[nn.container,{gap:s},a?{flexGrow:1}:{},r?{flexShrink:1}:{},o?{flexWrap:o}:{},n?{alignItems:n}:{},e?{justifyContent:e}:{},i?{backgroundColor:i}:{},d?{width:d}:{},c],[n,i,a,e,r,s,c,d,o]);return(0,Mt.jsx)(be.View,{style:u,children:t})};var Ft=require("react/jsx-runtime"),an=Rt.StyleSheet.create({container:{width:"100%"}}),ne=({children:n,spacing:t=0,theme:e})=>{let{containerStyles:a}=(0,kt.useMemo)(()=>{var r;return{containerStyles:l(l({},an.container),(r=e==null?void 0:e.container)!=null?r:{})}},[e==null?void 0:e.container]);return(0,Ft.jsx)(Me,{alignItems:"center",grow:!0,justifyContent:"space-between",spacing:t,style:a,children:n})};var L=require("react"),ke=require("react-native");var Be=require("react/jsx-runtime"),rn=ke.StyleSheet.create({container:{flexDirection:"column"}});function on(n){return(0,L.isValidElement)(n)&&n.type===L.Fragment}function Re({children:n,spacing:t=0,alignItems:e,justifyContent:a,grow:r}){let s=(0,L.useMemo)(()=>h(l({},rn.container),{gap:t,alignItems:e,justifyContent:a,flex:r?1:void 0}),[e,r,a,t]);return(0,Be.jsx)(ke.View,{style:s,children:L.Children.toArray(n).map(o=>on(o)?o.props.children:o).flat().filter(o=>o!==null&&typeof o!="undefined").map((o,i)=>(0,Be.jsx)(L.Fragment,{children:o},i))})}var xt=n=>n.charAt(0).toUpperCase()+n.slice(1);var E=require("react/jsx-runtime"),sn=(0,N.memo)(function(t){let p=t,{CalendarDot:e,calendarInstanceId:a,calendarRowVerticalSpacing:r=8,calendarRowHorizontalSpacing:s=8,calendarDayHeight:o=32,calendarMonthHeaderHeight:i=20,calendarWeekHeaderHeight:d=o,calendarHorizontalPadding:c=0,onCalendarDayPress:u,theme:y}=p,D=U(p,["CalendarDot","calendarInstanceId","calendarRowVerticalSpacing","calendarRowHorizontalSpacing","calendarDayHeight","calendarMonthHeaderHeight","calendarWeekHeaderHeight","calendarHorizontalPadding","onCalendarDayPress","theme"]),{calendarRowMonth:S,weeksList:C,weekDaysList:g}=fe(D);return(0,E.jsxs)(Re,{alignItems:"center",spacing:r,children:[(0,E.jsx)(Se,{height:i,theme:y==null?void 0:y.rowMonth,children:xt(S)}),(0,E.jsx)(ne,{spacing:8,theme:y==null?void 0:y.rowWeek,children:g.map((f,m)=>(0,E.jsx)(Ie,{height:d,theme:y==null?void 0:y.itemWeekName,children:f},m))}),C.map((f,m)=>(0,E.jsx)(ne,{children:f.map(I=>I.isDifferentMonth?(0,E.jsx)(te,{CalendarDot:e||(()=>null),calendarHorizontalPadding:c,dayHeight:o,daySpacing:s,isEndOfWeek:I.isEndOfWeek,isStartOfWeek:I.isStartOfWeek,metadata:I,theme:y==null?void 0:y.itemDayContainer,children:(0,E.jsx)(De,{height:o,theme:y==null?void 0:y.itemEmpty})},I.id):(0,E.jsx)(Ce,{CalendarDot:e||(()=>null),calendarHorizontalPadding:c,calendarInstanceId:a,dayHeight:o,daySpacing:s,metadata:I,onPress:u,theme:y==null?void 0:y.itemDay,children:I.displayLabel},I.id))},m))]})}),Fe=(0,N.memo)(function(t){let S=t,{calendarInstanceId:e,calendarActiveDateRanges:a,calendarDisabledDateIds:r,calendarSpecialDateRange:s,calendarStayDateRange:o,calendarHighSeasonsDateRange:i,calendarMonthId:d,calendarColorScheme:c}=S,u=U(S,["calendarInstanceId","calendarActiveDateRanges","calendarDisabledDateIds","calendarSpecialDateRange","calendarStayDateRange","calendarHighSeasonsDateRange","calendarMonthId","calendarColorScheme"]),y=(0,N.useRef)(!0);(0,N.useEffect)(()=>{if(y.current){y.current=!1;return}let C=b(new Date);z.emit("onSetActiveDateRanges",{todayId:C,instanceId:e,ranges:a!=null?a:[],disabledRanges:r!=null?r:[],specialDateRanges:s!=null?s:[],stayDateRange:o!=null?o:[],highSeasonRange:i!=null?i:[]})},[a,r,s,o,i,e]);let D=(0,N.useMemo)(()=>({calendarActiveDateRanges:a,calendarDisabledDateIds:r,calendarSpecialDateRange:s,calendarStayDateRange:o,calendarHighSeasonsDateRange:i}),[d]);return(0,E.jsx)(ft,{colorScheme:c,children:(0,E.jsx)(sn,l(h(l({},u),{calendarInstanceId:e,calendarMonthId:d}),D))})});var Et=require("@shopify/flash-list"),M=require("react"),Wt=require("react-native");var B=require("react");function wt(n,t,e,a,r,s,o,i,d){switch(arguments.length){case 1:return n;case 2:return t(n);case 3:return e(t(n));case 4:return a(e(t(n)));case 5:return r(a(e(t(n))));case 6:return s(r(a(e(t(n)))));case 7:return o(s(r(a(e(t(n))))));case 8:return i(o(s(r(a(e(t(n)))))));case 9:return d(i(o(s(r(a(e(t(n))))))));default:{let c=arguments[0];for(let u=1;u<arguments.length;u++)c=arguments[u](c);return c}}}var Ve=(n,t,e="sunday")=>{let a=b(n),r=b(t);if(r<a)return[];let s=[{id:b(n),date:n,numberOfWeeks:He(n,e)}];if(a===r)return s;let o=ce(t,n);for(let i=1;i<=o;i++){let d=le(n,i),c=He(d,e);s.push({id:b(d),date:d,numberOfWeeks:c})}return s},Ot=(n,t,e)=>{let a=le(e,n),r=b(a),s=t!=null?t:r;return r>s?T(s):a},Pt=(n,t,e)=>{let a=We(e,n),r=b(a),s=t!=null?t:r;return s>r?wt(T(s),v):a},xe=({calendarInitialMonthId:n,calendarPastScrollRangeInMonths:t,calendarFutureScrollRangeInMonths:e,calendarFirstDayOfWeek:a,calendarMaxDateId:r,calendarMinDateId:s})=>{let{initialMonth:o,initialMonthId:i}=(0,B.useMemo)(()=>{let C=n?T(n):T(b(new Date)),g=v(C);return{initialMonth:g,initialMonthId:b(g)}},[n]),[d,c]=(0,B.useState)(()=>{let C=v(o),g=Pt(t,s,C),p=Ot(e,r,C);return Ve(g,p,a)}),u=(0,B.useCallback)(C=>{let g=le(d[d.length-1].date,1),p=Ot(Math.max(C-1,0),r,g),f=Ve(g,p,a),m=[...d,...f];return c(m),m},[a,r,d]),y=(0,B.useCallback)(C=>{let g=We(d[0].date,1),p=Pt(Math.max(C-1,0),s,g),m=[...Ve(p,g,a),...d];return c(m),m},[a,s,d]),D=(0,B.useCallback)(C=>{let g=d[0],p=d[d.length-1];return C>p.id?u(ce(T(C),p.date)):y(ce(g.date,T(C)))},[u,d,y]),S=(0,B.useMemo)(()=>d.findIndex(g=>g.id===i),[i,d]);return{monthList:d,initialMonthIndex:S,appendMonths:u,prependMonths:y,addMissingMonths:D}},ae=({calendarRowVerticalSpacing:n,calendarDayHeight:t,calendarWeekHeaderHeight:e,calendarMonthHeaderHeight:a,calendarAdditionalHeight:r,calendarMonth:s,calendarSpacing:o})=>{let i=a+n+e+n,d=t*s.numberOfWeeks+(s.numberOfWeeks-1)*n;return i+d+r+o};var we=require("react/jsx-runtime"),ln=n=>n.id,Ht=(0,M.memo)((0,M.forwardRef)(function(t,e){let Xe=t,{calendarInitialMonthId:a,calendarPastScrollRangeInMonths:r=12,calendarFutureScrollRangeInMonths:s=12,calendarFirstDayOfWeek:o="sunday",CalendarScrollComponent:i=Et.FlashList,calendarFormatLocale:d,calendarSpacing:c=20,calendarRowHorizontalSpacing:u,calendarRowVerticalSpacing:y=8,calendarMonthHeaderHeight:D=20,calendarDayHeight:S=32,calendarWeekHeaderHeight:C=S,calendarAdditionalHeight:g=0,calendarColorScheme:p,theme:f,onEndReached:m}=Xe,Ze=U(Xe,["calendarInitialMonthId","calendarPastScrollRangeInMonths","calendarFutureScrollRangeInMonths","calendarFirstDayOfWeek","CalendarScrollComponent","calendarFormatLocale","calendarSpacing","calendarRowHorizontalSpacing","calendarRowVerticalSpacing","calendarMonthHeaderHeight","calendarDayHeight","calendarWeekHeaderHeight","calendarAdditionalHeight","calendarColorScheme","theme","onEndReached"]),{calendarActiveDateRanges:W,calendarStayDateRange:w,calendarHighSeasonsDateRange:F,calendarSpecialDateRange:O,calendarDisabledDateIds:je,calendarInstanceId:Je,calendarMaxDateId:At,calendarMinDateId:Lt,getCalendarDayFormat:Ke,getCalendarMonthFormat:Ue,getCalendarWeekDayFormat:ze,onCalendarDayPress:Qe}=Ze,Nt=U(Ze,["calendarActiveDateRanges","calendarStayDateRange","calendarHighSeasonsDateRange","calendarSpecialDateRange","calendarDisabledDateIds","calendarInstanceId","calendarMaxDateId","calendarMinDateId","getCalendarDayFormat","getCalendarMonthFormat","getCalendarWeekDayFormat","onCalendarDayPress"]),qe=(0,M.useMemo)(()=>({calendarActiveDateRanges:W,calendarStayDateRange:w,calendarHighSeasonsDateRange:F,calendarSpecialDateRange:O,calendarColorScheme:p,calendarDayHeight:S,calendarDisabledDateIds:je,calendarFirstDayOfWeek:o,calendarFormatLocale:d,calendarInstanceId:Je,calendarMonthHeaderHeight:D,calendarRowHorizontalSpacing:u,calendarRowVerticalSpacing:y,calendarWeekHeaderHeight:C,getCalendarDayFormat:Ke,getCalendarMonthFormat:Ue,getCalendarWeekDayFormat:ze,onCalendarDayPress:Qe,theme:f}),[p,W,w,F,O,S,je,o,d,D,u,y,C,Ke,Ue,ze,Je,Qe,f]),{initialMonthIndex:Bt,monthList:re,appendMonths:Ye,addMissingMonths:_e}=xe({calendarFirstDayOfWeek:o,calendarFutureScrollRangeInMonths:s,calendarPastScrollRangeInMonths:r,calendarInitialMonthId:a,calendarMaxDateId:At,calendarMinDateId:Lt}),Vt=(0,M.useMemo)(()=>re.map(k=>h(l({},k),{calendarProps:qe})),[qe,re]),vt=(0,M.useCallback)(()=>{Ye(s),m==null||m()},[Ye,s,m]),Gt=(0,M.useCallback)((k,H)=>{let P=ae({calendarMonth:H,calendarSpacing:c,calendarDayHeight:S,calendarMonthHeaderHeight:D,calendarRowVerticalSpacing:y,calendarAdditionalHeight:g,calendarWeekHeaderHeight:C});k.size=P},[g,S,D,y,c,C]),$e=(0,M.useCallback)(k=>{let H=b(v(k)),P=re,V=P.findIndex(j=>j.id===H);return V===-1&&(P=_e(H),V=P.findIndex(j=>j.id===H)),P.slice(0,V).reduce((j,Pe)=>{let $=ae({calendarMonth:Pe,calendarSpacing:c,calendarDayHeight:S,calendarMonthHeaderHeight:D,calendarRowVerticalSpacing:y,calendarWeekHeaderHeight:C,calendarAdditionalHeight:g});return j+$},0)},[_e,g,S,D,y,c,C,re]),oe=(0,M.useRef)(null);(0,M.useImperativeHandle)(e,()=>({scrollToMonth(k,H,{additionalOffset:P=0}={additionalOffset:0}){setTimeout(()=>{var V;(V=oe.current)==null||V.scrollToOffset({offset:$e(k)+P,animated:H})},0)},scrollToDate(k,H,{additionalOffset:P=0}={additionalOffset:0}){var et;let V=$e(k),j=it(k,o),Pe=S+y,$=C+Pe*j;$=$-y,(et=oe.current)==null||et.scrollToOffset({offset:V+$+P,animated:H})},scrollToOffset(k,H){var P;(P=oe.current)==null||P.scrollToOffset({offset:k,animated:H})}}));let jt=(0,M.useMemo)(()=>({paddingBottom:c}),[c]);return(0,we.jsx)(i,l({data:Vt,estimatedItemSize:273,initialScrollIndex:Bt,keyExtractor:ln,onEndReached:vt,overrideItemLayout:Gt,ref:oe,renderItem:({item:k})=>(0,we.jsx)(Wt.View,{style:jt,children:(0,we.jsx)(Fe,l({calendarMonthId:k.id},k.calendarProps))}),showsVerticalScrollIndicator:!1},Nt))}));var ve=Ae;ve.Container=te;ve.WithContainer=Ce;var Oe={};Oe.Day=ve;Oe.WeekName=Ie;Oe.Empty=De;var Ge={};Ge.Month=Se;Ge.Week=ne;var _=Fe;_.Item=Oe;_.Row=Ge;_.List=Ht;_.HStack=Me;_.VStack=Re;var dn=_;var K=require("react");var Tt=(n={startId:void 0,endId:void 0})=>{let[t,e]=(0,K.useState)(n),a=(0,K.useCallback)(s=>{e(o=>!o.startId&&!o.endId?{startId:s,endId:void 0}:o.startId&&o.endId?{startId:s,endId:void 0}:o.startId&&!o.endId?s<o.startId?{startId:s,endId:o.startId}:h(l({},o),{endId:s}):{startId:s,endId:s})},[]),r=(0,K.useCallback)(()=>{e({startId:void 0,endId:void 0})},[]);return(0,K.useMemo)(()=>{let s=!t.startId&&!t.endId?[]:[t],o=!!(t.startId&&t.endId);return{dateRange:t,calendarActiveDateRanges:s,onClearDateRange:r,onCalendarDayPress:a,isDateRangeValid:o}},[t,a,r])};0&&(module.exports={Calendar,activeDateRangesEmitter,buildCalendar,fromDateId,getHeightForMonth,toDateId,useCalendar,useCalendarList,useDateRange,useOptimizedDayMetadata});
//# sourceMappingURL=index.js.map